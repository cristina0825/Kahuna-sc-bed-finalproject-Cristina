{
  "info": {
    "name": "Kahuna API Collection",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Register user",
      "request": {
        "method": "POST",
        "header": [{"key":"Content-Type","value":"application/json"}],
        "body": {"mode":"raw","raw":"{\n  \"name\": \"Test User\",\n  \"email\": \"test@example.com\",\n  \"password\": \"pass\",\n  \"role\": \"client\"\n}"},
        "url": {"raw":"http://localhost:8000/register","protocol":"http","host":["localhost"],"port":"8000","path":["register"]}
      }
    },
    {
      "name": "Login (admin)",
      "request": {"method":"POST","header":[{"key":"Content-Type","value":"application/json"}],"body":{"mode":"raw","raw":"{\n  \"email\": \"admin@example.com\",\n  \"password\": \"adminpass\"\n}"},"url":{"raw":"http://localhost:8000/login","protocol":"http","host":["localhost"],"port":"8000","path":["login"]}}
    },
    {
      "name": "Login (client)",
      "request": {"method":"POST","header":[{"key":"Content-Type","value":"application/json"}],"body":{"mode":"raw","raw":"{\n  \"email\": \"test@example.com\",\n  \"password\": \"pass\"\n}"},"url":{"raw":"http://localhost:8000/login","protocol":"http","host":["localhost"],"port":"8000","path":["login"]}}
    },
    {
      "name": "List products",
      "request": {"method":"GET","url":{"raw":"http://localhost:8000/products","protocol":"http","host":["localhost"],"port":"8000","path":["products"]}}
    },
    {
      "name": "Admin add product",
      "request": {
        "method": "POST",
        "header": [
          {"key":"Content-Type","value":"application/json"},
          {"key":"Authorization","value":"Bearer {{admin_token}}"}
        ],
        "body": {"mode":"raw","raw":"{\n  \"serial\": \"EX12345\",\n  \"name\": \"Example Device\",\n  \"warranty_years\": 2\n}"},
        "url": {"raw":"http://localhost:8000/admin/products","protocol":"http","host":["localhost"],"port":"8000","path":["admin","products"]}
      }
    },
    {
      "name": "Register product for user",
      "request": {
        "method": "POST",
        "header": [
          {"key":"Content-Type","value":"application/json"},
          {"key":"Authorization","value":"Bearer {{client_token}}"}
        ],
        "body": {"mode":"raw","raw":"{\n  \"serial\": \"KHWM8199911\",\n  \"purchase_date\": \"2024-01-01\"\n}"},
        "url": {"raw":"http://localhost:8000/register-product","protocol":"http","host":["localhost"],"port":"8000","path":["register-product"]}
      }
    },
    {
      "name": "List my registered products",
      "request": {
        "method": "GET",
        "header": [
          {"key":"Authorization","value":"Bearer {{client_token}}"}
        ],
        "url": {"raw":"http://localhost:8000/my-products","protocol":"http","host":["localhost"],"port":"8000","path":["my-products"]}
      }
    },
    {
      "name": "Product detail (registered)",
      "request": {
        "method": "GET",
        "header": [
          {"key":"Authorization","value":"Bearer {{client_token}}"}
        ],
        "url": {"raw":"http://localhost:8000/product/KHWM8199911","protocol":"http","host":["localhost"],"port":"8000","path":["product","KHWM8199911"]}
      }
    },
    {
      "name": "Logout (admin)",
      "request": {
        "method": "POST",
        "header": [
          {"key":"Authorization","value":"Bearer {{admin_token}}"}
        ],
        "url": {"raw":"http://localhost:8000/logout","protocol":"http","host":["localhost"],"port":"8000","path":["logout"]}
      }
    },
    {
      "name": "Logout (client)",
      "request": {
        "method": "POST",
        "header": [
          {"key":"Authorization","value":"Bearer {{client_token}}"}
        ],
        "url": {"raw":"http://localhost:8000/logout","protocol":"http","host":["localhost"],"port":"8000","path":["logout"]}
      }
    }
  ]
}
